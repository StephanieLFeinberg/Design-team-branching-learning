<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Button Page</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <button class="main-button" id="randomButton">I'm a button!</button>
        <div class="victory-message" id="victoryMessage">
            ðŸŽ‰ You caught me! ðŸŽ‰
        </div>
        <div class="dropdown-container">
            <label for="animal-select" class="dropdown-label">Pick your favorite!</label>
            <select id="animal-select" class="animal-dropdown">
                <option value="">-- Select an animal --</option>
                <option value="dog">Dog</option>
                <option value="cat">Cat</option>
                <option value="bird">Bird</option>
                <option value="fish">Fish</option>
                <option value="rabbit">Rabbit</option>
                <option value="hamster">Hamster</option>
                <option value="horse">Horse</option>
                <option value="other">Other</option>
            </select>
            <div id="custom-animal-container" class="custom-animal-container" style="display: none;">
                <input type="text" id="custom-animal-input" class="custom-animal-input" placeholder="Enter your favorite animal">
                <button id="add-custom-btn" class="add-custom-btn">Add</button>
            </div>
        </div>
    </div>
    <script src="data.json" type="application/json"></script>
    <script>
        // Button escape functionality
        const button = document.getElementById('randomButton');
        const container = document.querySelector('.container');
        const victoryMessage = document.getElementById('victoryMessage');
        
        button.addEventListener('mouseenter', function() {
            // Get viewport dimensions
            const maxX = window.innerWidth - button.offsetWidth - 20;
            const maxY = window.innerHeight - button.offsetHeight - 20;
            
            // Generate random positions
            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;
            
            // Apply random position
            button.style.position = 'fixed';
            button.style.left = randomX + 'px';
            button.style.top = randomY + 'px';
        });
        
        button.addEventListener('click', function() {
            // Create confetti effect
            createConfetti();
            
            // Show victory message
            victoryMessage.classList.add('show');
            
            // Reset button position to center
            button.style.position = 'relative';
            button.style.left = 'auto';
            button.style.top = 'auto';
            
            // Hide victory message after 3 seconds
            setTimeout(() => {
                victoryMessage.classList.remove('show');
            }, 3000);
        });
        
        function createConfetti() {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f0932b', '#eb4d4b', '#6c5ce7', '#a29bfe'];
            const confettiCount = 50;
            
            // Get button's current position
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = centerX + 'px';
                confetti.style.top = centerY + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                // Random horizontal velocity
                const randomX = (Math.random() - 0.5) * 200;
                const randomRotate = Math.random() * 720;
                
                // Apply animation with inline style
                confetti.style.setProperty('--end-x', randomX + 'px');
                confetti.style.setProperty('--end-rotate', randomRotate + 'deg');
                
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 2000);
            }
        }

        // Dropdown functionality
        const animalSelect = document.getElementById('animal-select');
        const customContainer = document.getElementById('custom-animal-container');
        const customInput = document.getElementById('custom-animal-input');
        const addCustomBtn = document.getElementById('add-custom-btn');

        animalSelect.addEventListener('change', function() {
            if (this.value === 'other') {
                customContainer.style.display = 'flex';
                customInput.focus();
            } else {
                customContainer.style.display = 'none';
                customInput.value = '';
            }
        });

        addCustomBtn.addEventListener('click', function() {
            const customAnimal = customInput.value.trim();
            if (customAnimal) {
                // Add the custom animal to the dropdown
                const option = document.createElement('option');
                option.value = customAnimal.toLowerCase();
                option.textContent = customAnimal;
                option.selected = true;
                
                // Insert before "Other" option
                const otherOption = animalSelect.querySelector('option[value="other"]');
                animalSelect.insertBefore(option, otherOption);
                
                // Hide the custom input
                customContainer.style.display = 'none';
                customInput.value = '';
            }
        });

        customInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addCustomBtn.click();
            }
        });
    </script>
</body>
</html>

